{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/module/Constants.ts","src/module/Main.ts","src/module/Setup.ts","src/module/actor/SR5ActorProxy.ts","src/module/actor/SR5BaseActor.ts","src/module/actor/SR5Grunt.ts","src/module/actor/SR5Runner.ts","src/module/actor/sheet/SR5BaseActorSheet.ts","src/module/actor/types/ActorType.ts","src/module/common/Attribute.ts","src/module/item/SR5Armor.ts","src/module/item/SR5BaseItem.ts","src/module/item/SR5ItemProxy.ts","src/module/item/SR5Weapon.ts","src/module/item/sheet/SR5BaseItemSheet.ts","src/module/item/types/ItemType.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export const SYSTEM_NAME = 'shadowrun5e';\r\n","import Setup from './Setup';\r\nimport SR5BaseActor from './actor/SR5BaseActor';\r\nimport SR5Runner from './actor/SR5Runner';\r\nimport SR5Grunt from './actor/SR5Grunt';\r\nimport { ActorType } from './actor/types/ActorType';\r\n\r\nSetup.run();\r\n\r\nCONFIG.debug.hooks = true;","import SR5ActorProxy from './actor/SR5ActorProxy';\r\nimport { SYSTEM_NAME } from './Constants';\r\nimport SR5BaseActorSheet from './actor/sheet/SR5BaseActorSheet';\r\nimport SR5ItemProxy from './item/SR5ItemProxy';\r\nimport SR5BaseItemSheet from './item/sheet/SR5BaseItemSheet';\r\n\r\nexport default class Setup {\r\n    public static run(): void {\r\n        Hooks.once('init', this.init);\r\n        Hooks.once('setup', this.setup);\r\n        Hooks.once('ready', this.ready);\r\n    }\r\n\r\n    // Tasks called on init\r\n    protected static init(): Promise<void> {\r\n        // Register actor + sheets\r\n        CONFIG.Actor.entityClass = SR5ActorProxy;\r\n        Actors.unregisterSheet('core', ActorSheet);\r\n        Actors.registerSheet(SYSTEM_NAME, SR5BaseActorSheet, { makeDefault: true });\r\n\r\n        // Register item + sheets\r\n        CONFIG.Item.entityClass = SR5ItemProxy;\r\n        Items.unregisterSheet('core', ItemSheet);\r\n        Items.registerSheet(SYSTEM_NAME, SR5BaseItemSheet, { makeDefault: true });\r\n\r\n        // Above code will run synchronously with Foundry\r\n        // Async tasks can be done by returning a new Promise\r\n        return Promise.resolve();\r\n    }\r\n    protected static async setup(): Promise<void> {}\r\n    protected static async ready(): Promise<void> {}\r\n}\r\n","import SR5Runner from './SR5Runner';\r\nimport SR5Grunt from './SR5Grunt';\r\nimport { ActorType } from './types/ActorType';\r\nimport SR5BaseActor from './SR5BaseActor';\r\nimport { IPreCreateActorData, IPreCreateActorOptions } from '../common/Hooks';\r\n\r\nexport default class SR5ActorProxy extends Actor {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\">\r\n\r\n    static async create(data: IPreCreateActorData, options: IPreCreateActorOptions): Promise<Entity> {\r\n        // NOTE: This should be only 'leaf node' classes. The 'onPreCreate' methods\r\n        //  should then chain the call upward with super calls if needed.\r\n        const CLASSES = [SR5Runner, SR5Grunt];\r\n        const CLASS = CLASSES.find((CLASS) => CLASS.TYPE === data.type);\r\n\r\n        if (CLASS) {\r\n            // Default values are over-written with provided ones.\r\n            const defaultValues = CLASS.getDefaultValues();\r\n            console.warn(`merged defaultValues`);\r\n            console.warn(defaultValues);\r\n\r\n            data = {\r\n                name: data.name,\r\n                folder: data.folder,\r\n                type: data.type,\r\n                data: defaultValues,\r\n            };\r\n        } else {\r\n            console.warn(`Unable to find default values for type ${data.type}.`);\r\n        }\r\n        return super.create(data, options);\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    private readonly _implementation: SR5BaseActor;\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n\r\n    constructor(data: ActorData, options?: any) {\r\n        super(data, options);\r\n\r\n        switch (data.type as ActorType) {\r\n            case ActorType.Runner:\r\n                this._implementation = new SR5Runner(this, data, options);\r\n                break;\r\n            case ActorType.Grunt:\r\n                this._implementation = new SR5Grunt(this, data, options);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /** @override */\r\n    prepareData(): void {\r\n        if (this._implementation !== undefined) {\r\n            this._implementation.prepareData();\r\n        }\r\n\r\n        return super.prepareData();\r\n    }\r\n    /** @override */\r\n    prepareEmbeddedEntities(): void {\r\n        if (this._implementation !== undefined) {\r\n            this._implementation.prepareEmbeddedEntities();\r\n        }\r\n\r\n        return super.prepareEmbeddedEntities();\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","import SR5ActorProxy from './SR5ActorProxy';\r\nimport { IPreCreateActorData, IPreCreateActorOptions } from '../common/Hooks';\r\nimport { ActorType } from './types/ActorType';\r\n\r\nexport interface ISR5BaseActorDataContainer extends ActorData {\r\n    data: ISR5BaseActorData;\r\n}\r\nexport interface ISR5BaseActorData {}\r\n\r\nexport default abstract class SR5BaseActor extends Actor {\r\n    // <editor-fold desc=\"Static Properties\">\r\n\r\n    /**\r\n     * When creating actors, the type is checked against this array. If a matching type is found\r\n     *  {@see onPreCreate} is called to initialize type-specific default data. Must be inherited.\r\n     */\r\n    public static get TYPE(): ActorType {\r\n        throw new Error('ACTOR_TYPE must be implemented.');\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Static Methods\">\r\n\r\n    /**\r\n     * Initializes type-specific default data before the actor is sent to the server.\r\n     */\r\n    public static getDefaultValues(): ISR5BaseActorData {\r\n        console.warn(`SR5BaseActor getDefaultValues`);\r\n        return {\r\n            name: 'Hello!',\r\n        };\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    public data: ISR5BaseActorDataContainer;\r\n    public proxy: SR5ActorProxy;\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n\r\n    constructor(proxy: SR5ActorProxy, data: ActorData, options?: any) {\r\n        super(data, options);\r\n\r\n        this.data = data;\r\n        this.proxy = proxy;\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\">\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","import SR5BaseActor, { ISR5BaseActorData, ISR5BaseActorDataContainer } from './SR5BaseActor';\r\nimport { ActorType } from './types/ActorType';\r\n\r\nexport interface ISR5GruntDataContainer extends ISR5BaseActorDataContainer {\r\n    data: ISR5GruntData;\r\n}\r\nexport interface ISR5GruntData extends ISR5BaseActorData {}\r\n\r\nexport default class SR5Grunt extends SR5BaseActor {\r\n    // <editor-fold desc=\"Static Properties\">\r\n\r\n    public static get TYPE() {\r\n        return ActorType.Grunt;\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    data: ISR5GruntDataContainer;\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\"></editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n\r\n    prepareData() {\r\n        super.prepareData();\r\n    }\r\n\r\n    prepareEmbeddedEntities() {\r\n        super.prepareEmbeddedEntities();\r\n    }\r\n}\r\n","import SR5BaseActor, { ISR5BaseActorData, ISR5BaseActorDataContainer } from './SR5BaseActor';\r\nimport SR5ActorProxy from './SR5ActorProxy';\r\nimport { AttributeName, PhysicalAttributeName, RunnerAttributeName, RunnerAttributes } from '../common/Attribute';\r\nimport { ActorType } from './types/ActorType';\r\nimport { IPreCreateActorData, IPreCreateActorOptions } from '../common/Hooks';\r\n\r\n// TODO: Assumes Foundry will be enforcing types - as we can see here\r\n//  it's technically possible to get unexpected results.\r\nexport interface ISR5RunnerDataContainer extends ISR5BaseActorDataContainer {\r\n    data: ISR5RunnerData;\r\n}\r\nexport interface ISR5RunnerData extends ISR5BaseActorData {\r\n    attributes: RunnerAttributes;\r\n}\r\n\r\nexport default class SR5Runner extends SR5BaseActor {\r\n    // <editor-fold desc=\"Static Properties\">\r\n\r\n    public static get TYPE() {\r\n        return ActorType.Runner;\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Static Methods\">\r\n\r\n    public static getDefaultValues(): ISR5RunnerData {\r\n        console.warn(`SR5Runner getDefaultValues`)\r\n        let attributes: RunnerAttributes = {\r\n            body: {\r\n                name: AttributeName.Body,\r\n                value: 1,\r\n            },\r\n            agility: {\r\n                name: AttributeName.Agility,\r\n                value: 1,\r\n            },\r\n            charisma: {\r\n                name: AttributeName.Charisma,\r\n                value: 1,\r\n            },\r\n            depth: {\r\n                name: AttributeName.Depth,\r\n                value: 1,\r\n            },\r\n            edge: {\r\n                name: AttributeName.Edge,\r\n                value: 1,\r\n            },\r\n            essence: {\r\n                name: AttributeName.Essence,\r\n                value: 1,\r\n            },\r\n            intuition: {\r\n                name: AttributeName.Intuition,\r\n                value: 1,\r\n            },\r\n            logic: {\r\n                name: AttributeName.Logic,\r\n                value: 1,\r\n            },\r\n            magic: {\r\n                name: AttributeName.Magic,\r\n                value: 1,\r\n            },\r\n            reaction: {\r\n                name: AttributeName.Reaction,\r\n                value: 1,\r\n            },\r\n            resonance: {\r\n                name: AttributeName.Resonance,\r\n                value: 1,\r\n            },\r\n            strength: {\r\n                name: AttributeName.Strength,\r\n                value: 1,\r\n            },\r\n            willpower: {\r\n                name: AttributeName.Willpower,\r\n                value: 1,\r\n            },\r\n        };\r\n\r\n        return {\r\n            ...super.getDefaultValues(),\r\n            attributes,\r\n        };\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    data: ISR5RunnerDataContainer;\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n\r\n    constructor(proxy: SR5ActorProxy, data: ActorData, options: any) {\r\n        super(proxy, data, options);\r\n\r\n        console.warn(this);\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","export default class SR5BaseActorSheet extends ActorSheet {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n\r\n    constructor(...args: any) {\r\n        super(...args);\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","export enum ActorType {\r\n    Runner = 'Runner',\r\n    Grunt = 'Grunt',\r\n    // Contact = 'Contact',\r\n    // Spirit = 'Spirit',\r\n    // Sprite = 'Sprite',\r\n    // Vehicle = 'Vehicle',\r\n    // Critter = 'Critter',\r\n    // Host = 'Host',\r\n    // IC = 'IC',\r\n}\r\n","export enum PhysicalAttributeName {\r\n    Body = 'body',\r\n    Agility = 'agility',\r\n    Reaction = 'reaction',\r\n    Strength = 'strength',\r\n}\r\n\r\nexport enum MentalAttributeName {\r\n    Logic = 'logic',\r\n    Intuition = 'intuition',\r\n    Charisma = 'charisma',\r\n    Willpower = 'willpower',\r\n}\r\n\r\nexport enum SpecialAttributeName {\r\n    Edge = 'edge',\r\n    Essence = 'essence',\r\n    Magic = 'magic',\r\n    Resonance = 'resonance',\r\n    Depth = 'depth',\r\n}\r\n\r\nexport enum MatrixAttributeName {\r\n    Attack = 'attack',\r\n    Sleaze = 'sleaze',\r\n    DataProcessing = 'data_processing',\r\n    Firewall = 'firewall',\r\n}\r\n\r\nexport const AttributeName = { ...PhysicalAttributeName, ...MentalAttributeName, ...SpecialAttributeName, ...MatrixAttributeName };\r\nexport type AttributeName = PhysicalAttributeName | MentalAttributeName | SpecialAttributeName | MatrixAttributeName;\r\n\r\nexport const RunnerAttributeName = { ...PhysicalAttributeName, ...MentalAttributeName, ...SpecialAttributeName };\r\nexport type RunnerAttributeName = PhysicalAttributeName | MentalAttributeName | SpecialAttributeName;\r\n\r\nexport interface Attribute<TName extends AttributeName> {\r\n    name: TName; // TODO: Locale keys need arrangement for SR5.ATTRIBUTES.name\r\n    value: number;\r\n}\r\n\r\nexport type AttributeMap<TValues extends AttributeName> = {\r\n    [TKey in TValues]: Attribute<TKey>;\r\n};\r\n\r\n// Helper maps - Can use AttributeMap for custom mappings\r\nexport type PhysicalAttributes = AttributeMap<PhysicalAttributeName>;\r\nexport type MentalAttribute = AttributeMap<MentalAttributeName>;\r\nexport type SpecialAttributes = AttributeMap<SpecialAttributeName>;\r\nexport type RunnerAttributes = AttributeMap<RunnerAttributeName>;\r\nexport type MatrixAttributes = AttributeMap<MatrixAttributeName>;\r\n\r\n// export type AttributeField = BaseValuePair<number> &\r\n//     CanHideFiled &\r\n//     ModifiableValue &\r\n//     LabelField & {\r\n//     limit?: string;\r\n// };\r\n","import SR5BaseItem from './SR5BaseItem';\r\n\r\nexport default class SR5Armor extends SR5BaseItem {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\"></editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","export interface ISR5BaseItemDataContainer extends BaseEntityData {}\r\n\r\nexport interface ISR5BaseItemData {}\r\n\r\nexport default class SR5BaseItem extends Item {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    data: ISR5BaseItemDataContainer;\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n\r\n    constructor(data: BaseEntityData, options?: any) {\r\n        super(data, options);\r\n\r\n        console.warn(`Created a new ${this.constructor.name}`);\r\n    }\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","import SR5BaseItem from './SR5BaseItem';\r\nimport { ItemType } from './types/ItemType';\r\nimport SR5Weapon from './SR5Weapon';\r\nimport SR5Armor from './SR5Armor';\r\n\r\nexport default class SR5ItemProxy extends Item {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    private _implementation: SR5BaseItem;\r\n\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n    constructor(data: BaseEntityData, options?: any) {\r\n        super(data, options);\r\n\r\n        switch (data.type as ItemType) {\r\n            case ItemType.Weapon:\r\n                this._implementation = new SR5Weapon(data, options);\r\n                break;\r\n            case ItemType.Armor:\r\n                this._implementation = new SR5Armor(data, options);\r\n                break;\r\n            case ItemType.Device:\r\n                break;\r\n            case ItemType.Program:\r\n                break;\r\n            case ItemType.Ammunition:\r\n                break;\r\n        }\r\n    }\r\n    // </editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\">\r\n\r\n    /** @override */\r\n    update(data: any, options: any): Promise<Item> {\r\n        return this._implementation.update(data, options);\r\n    }\r\n    // </editor-fold>\r\n}\r\n","import SR5BaseItem from './SR5BaseItem';\r\n\r\nexport default class SR5Weapon extends SR5BaseItem {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\"></editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","export default class SR5BaseItemSheet extends ItemSheet {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n    // <editor-fold desc=\"Properties\"></editor-fold>\r\n    // <editor-fold desc=\"Constructor & Initialization\"></editor-fold>\r\n    // <editor-fold desc=\"Getters & Setters\"></editor-fold>\r\n    // <editor-fold desc=\"Instance Methods\"></editor-fold>\r\n}\r\n","export enum ItemType {\r\n    Weapon = 'Weapon',\r\n    Armor = 'Armor',\r\n    Device = 'Device',\r\n    Program = 'Program',\r\n    Ammunition = 'Ammunition',\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbW9kdWxlL0NvbnN0YW50cy50cyIsInNyYy9tb2R1bGUvTWFpbi50cyIsInNyYy9tb2R1bGUvU2V0dXAudHMiLCJzcmMvbW9kdWxlL2FjdG9yL1NSNUFjdG9yUHJveHkudHMiLCJzcmMvbW9kdWxlL2FjdG9yL1NSNUJhc2VBY3Rvci50cyIsInNyYy9tb2R1bGUvYWN0b3IvU1I1R3J1bnQudHMiLCJzcmMvbW9kdWxlL2FjdG9yL1NSNVJ1bm5lci50cyIsInNyYy9tb2R1bGUvYWN0b3Ivc2hlZXQvU1I1QmFzZUFjdG9yU2hlZXQudHMiLCJzcmMvbW9kdWxlL2FjdG9yL3R5cGVzL0FjdG9yVHlwZS50cyIsInNyYy9tb2R1bGUvY29tbW9uL0F0dHJpYnV0ZS50cyIsInNyYy9tb2R1bGUvaXRlbS9TUjVBcm1vci50cyIsInNyYy9tb2R1bGUvaXRlbS9TUjVCYXNlSXRlbS50cyIsInNyYy9tb2R1bGUvaXRlbS9TUjVJdGVtUHJveHkudHMiLCJzcmMvbW9kdWxlL2l0ZW0vU1I1V2VhcG9uLnRzIiwic3JjL21vZHVsZS9pdGVtL3NoZWV0L1NSNUJhc2VJdGVtU2hlZXQudHMiLCJzcmMvbW9kdWxlL2l0ZW0vdHlwZXMvSXRlbVR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNBYSxRQUFBLFdBQVcsR0FBRyxhQUFhLENBQUM7Ozs7QUNBekMsbUNBQTRCO0FBTTVCLGVBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUVaLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7OztBQ1IxQix5REFBa0Q7QUFDbEQsMkNBQTBDO0FBQzFDLHVFQUFnRTtBQUNoRSxzREFBK0M7QUFDL0Msb0VBQTZEO0FBRTdELE1BQXFCLEtBQUs7SUFDZixNQUFNLENBQUMsR0FBRztRQUNiLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUks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SSxtQkFBUyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDcEQsTUFBTTtZQUNWLEtBQUssbUJBQVEsQ0FBQyxLQUFLO2dCQUNmLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxrQkFBUSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDbkQsTUFBTTtZQUNWLEtBQUssbUJBQVEsQ0FBQyxNQUFNO2dCQUNoQixNQUFNO1lBQ1YsS0FBSyxtQkFBUSxDQUFDLE9BQU87Z0JBQ2pCLE1BQU07WUFDVixLQUFLLG1CQUFRLENBQUMsVUFBVTtnQkFDcEIsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUNELGlCQUFpQjtJQUNqQix1REFBdUQ7SUFDdkQsd0NBQXdDO0lBRXhDLGdCQUFnQjtJQUNoQixNQUFNLENBQUMsSUFBUyxFQUFFLE9BQVk7UUFDMUIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdEQsQ0FBQztDQUVKO0FBcENELCtCQW9DQzs7OztBQ3pDRCwrQ0FBd0M7QUFFeEMsTUFBcUIsU0FBVSxTQUFRLHFCQUFXO0NBT2pEO0FBUEQsNEJBT0M7Ozs7QUNURCxNQUFxQixnQkFBaUIsU0FBUSxTQUFTO0NBT3REO0FBUEQsbUNBT0M7Ozs7O0FDUEQsSUFBWSxRQU1YO0FBTkQsV0FBWSxRQUFRO0lBQ2hCLDZCQUFpQixDQUFBO0lBQ2pCLDJCQUFlLENBQUE7SUFDZiw2QkFBaUIsQ0FBQTtJQUNqQiwrQkFBbUIsQ0FBQTtJQUNuQixxQ0FBeUIsQ0FBQTtBQUM3QixDQUFDLEVBTlcsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFNbkIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgY29uc3QgU1lTVEVNX05BTUUgPSAnc2hhZG93cnVuNWUnO1xyXG4iLCJpbXBvcnQgU2V0dXAgZnJvbSAnLi9TZXR1cCc7XHJcbmltcG9ydCBTUjVCYXNlQWN0b3IgZnJvbSAnLi9hY3Rvci9TUjVCYXNlQWN0b3InO1xyXG5pbXBvcnQgU1I1UnVubmVyIGZyb20gJy4vYWN0b3IvU1I1UnVubmVyJztcclxuaW1wb3J0IFNSNUdydW50IGZyb20gJy4vYWN0b3IvU1I1R3J1bnQnO1xyXG5pbXBvcnQgeyBBY3RvclR5cGUgfSBmcm9tICcuL2FjdG9yL3R5cGVzL0FjdG9yVHlwZSc7XHJcblxyXG5TZXR1cC5ydW4oKTtcclxuXHJcbkNPTkZJRy5kZWJ1Zy5ob29rcyA9IHRydWU7IiwiaW1wb3J0IFNSNUFjdG9yUHJveHkgZnJvbSAnLi9hY3Rvci9TUjVBY3RvclByb3h5JztcclxuaW1wb3J0IHsgU1lTVEVNX05BTUUgfSBmcm9tICcuL0NvbnN0YW50cyc7XHJcbmltcG9ydCBTUjVCYXNlQWN0b3JTaGVldCBmcm9tICcuL2FjdG9yL3NoZWV0L1NSNUJhc2VBY3RvclNoZWV0JztcclxuaW1wb3J0IFNSNUl0ZW1Qcm94eSBmcm9tICcuL2l0ZW0vU1I1SXRlbVByb3h5JztcclxuaW1wb3J0IFNSNUJhc2VJdGVtU2hlZXQgZnJvbSAnLi9pdGVtL3NoZWV0L1NSNUJhc2VJdGVtU2hlZXQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2V0dXAge1xyXG4gICAgcHVibGljIHN0YXRpYyBydW4oKTogdm9pZCB7XHJcbiAgICAgICAgSG9va3Mub25jZSgnaW5pdCcsIHRoaXMuaW5pdCk7XHJcbiAgICAgICAgSG9va3Mub25jZSgnc2V0dXAnLCB0aGlzLnNldHVwKTtcclxuICAgICAgICBIb29rcy5vbmNlKCdyZWFkeScsIHRoaXMucmVhZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRhc2tzIGNhbGxlZCBvbiBpbml0XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgLy8gUmVnaXN0ZXIgYWN0b3IgKyBzaGVldHNcclxuICAgICAgICBDT05GSUcuQWN0b3IuZW50aXR5Q2xhc3MgPSBTUjVBY3RvclByb3h5O1xyXG4gICAgICAgIEFjdG9ycy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBBY3RvclNoZWV0KTtcclxuICAgICAgICBBY3RvcnMucmVnaXN0ZXJTaGVldChTWVNURU1fTkFNRSwgU1I1QmFzZUFjdG9yU2hlZXQsIHsgbWFrZURlZmF1bHQ6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ2lzdGVyIGl0ZW0gKyBzaGVldHNcclxuICAgICAgICBDT05GSUcuSXRlbS5lbnRpdHlDbGFzcyA9IFNSNUl0ZW1Qcm94eTtcclxuICAgICAgICBJdGVtcy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBJdGVtU2hlZXQpO1xyXG4gICAgICAgIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoU1lTVEVNX05BTUUsIFNSNUJhc2VJdGVtU2hlZXQsIHsgbWFrZURlZmF1bHQ6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vIEFib3ZlIGNvZGUgd2lsbCBydW4gc3luY2hyb25vdXNseSB3aXRoIEZvdW5kcnlcclxuICAgICAgICAvLyBBc3luYyB0YXNrcyBjYW4gYmUgZG9uZSBieSByZXR1cm5pbmcgYSBuZXcgUHJvbWlzZVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgYXN5bmMgc2V0dXAoKTogUHJvbWlzZTx2b2lkPiB7fVxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBhc3luYyByZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHt9XHJcbn1cclxuIiwiaW1wb3J0IFNSNVJ1bm5lciBmcm9tICcuL1NSNVJ1bm5lcic7XHJcbmltcG9ydCBTUjVHcnVudCBmcm9tICcuL1NSNUdydW50JztcclxuaW1wb3J0IHsgQWN0b3JUeXBlIH0gZnJvbSAnLi90eXBlcy9BY3RvclR5cGUnO1xyXG5pbXBvcnQgU1I1QmFzZUFjdG9yIGZyb20gJy4vU1I1QmFzZUFjdG9yJztcclxuaW1wb3J0IHsgSVByZUNyZWF0ZUFjdG9yRGF0YSwgSVByZUNyZWF0ZUFjdG9yT3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbi9Ib29rcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTUjVBY3RvclByb3h5IGV4dGVuZHMgQWN0b3Ige1xyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgUHJvcGVydGllc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlN0YXRpYyBNZXRob2RzXCI+XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZShkYXRhOiBJUHJlQ3JlYXRlQWN0b3JEYXRhLCBvcHRpb25zOiBJUHJlQ3JlYXRlQWN0b3JPcHRpb25zKTogUHJvbWlzZTxFbnRpdHk+IHtcclxuICAgICAgICAvLyBOT1RFOiBUaGlzIHNob3VsZCBiZSBvbmx5ICdsZWFmIG5vZGUnIGNsYXNzZXMuIFRoZSAnb25QcmVDcmVhdGUnIG1ldGhvZHNcclxuICAgICAgICAvLyAgc2hvdWxkIHRoZW4gY2hhaW4gdGhlIGNhbGwgdXB3YXJkIHdpdGggc3VwZXIgY2FsbHMgaWYgbmVlZGVkLlxyXG4gICAgICAgIGNvbnN0IENMQVNTRVMgPSBbU1I1UnVubmVyLCBTUjVHcnVudF07XHJcbiAgICAgICAgY29uc3QgQ0xBU1MgPSBDTEFTU0VTLmZpbmQoKENMQVNTKSA9PiBDTEFTUy5UWVBFID09PSBkYXRhLnR5cGUpO1xyXG5cclxuICAgICAgICBpZiAoQ0xBU1MpIHtcclxuICAgICAgICAgICAgLy8gRGVmYXVsdCB2YWx1ZXMgYXJlIG92ZXItd3JpdHRlbiB3aXRoIHByb3ZpZGVkIG9uZXMuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZXMgPSBDTEFTUy5nZXREZWZhdWx0VmFsdWVzKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgbWVyZ2VkIGRlZmF1bHRWYWx1ZXNgKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGRlZmF1bHRWYWx1ZXMpO1xyXG5cclxuICAgICAgICAgICAgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGZvbGRlcjogZGF0YS5mb2xkZXIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBkYXRhLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkZWZhdWx0VmFsdWVzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5hYmxlIHRvIGZpbmQgZGVmYXVsdCB2YWx1ZXMgZm9yIHR5cGUgJHtkYXRhLnR5cGV9LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VwZXIuY3JlYXRlKGRhdGEsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlByb3BlcnRpZXNcIj5cclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbXBsZW1lbnRhdGlvbjogU1I1QmFzZUFjdG9yO1xyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkNvbnN0cnVjdG9yICYgSW5pdGlhbGl6YXRpb25cIj5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBBY3RvckRhdGEsIG9wdGlvbnM/OiBhbnkpIHtcclxuICAgICAgICBzdXBlcihkYXRhLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUgYXMgQWN0b3JUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQWN0b3JUeXBlLlJ1bm5lcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltcGxlbWVudGF0aW9uID0gbmV3IFNSNVJ1bm5lcih0aGlzLCBkYXRhLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFjdG9yVHlwZS5HcnVudDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltcGxlbWVudGF0aW9uID0gbmV3IFNSNUdydW50KHRoaXMsIGRhdGEsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHByZXBhcmVEYXRhKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ltcGxlbWVudGF0aW9uLnByZXBhcmVEYXRhKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3VwZXIucHJlcGFyZURhdGEoKTtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbXBsZW1lbnRhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ltcGxlbWVudGF0aW9uLnByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3VwZXIucHJlcGFyZUVtYmVkZGVkRW50aXRpZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJHZXR0ZXJzICYgU2V0dGVyc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkluc3RhbmNlIE1ldGhvZHNcIj48L2VkaXRvci1mb2xkPlxyXG59XHJcbiIsImltcG9ydCBTUjVBY3RvclByb3h5IGZyb20gJy4vU1I1QWN0b3JQcm94eSc7XHJcbmltcG9ydCB7IElQcmVDcmVhdGVBY3RvckRhdGEsIElQcmVDcmVhdGVBY3Rvck9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24vSG9va3MnO1xyXG5pbXBvcnQgeyBBY3RvclR5cGUgfSBmcm9tICcuL3R5cGVzL0FjdG9yVHlwZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTUjVCYXNlQWN0b3JEYXRhQ29udGFpbmVyIGV4dGVuZHMgQWN0b3JEYXRhIHtcclxuICAgIGRhdGE6IElTUjVCYXNlQWN0b3JEYXRhO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNSNUJhc2VBY3RvckRhdGEge31cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFNSNUJhc2VBY3RvciBleHRlbmRzIEFjdG9yIHtcclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIFByb3BlcnRpZXNcIj5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gY3JlYXRpbmcgYWN0b3JzLCB0aGUgdHlwZSBpcyBjaGVja2VkIGFnYWluc3QgdGhpcyBhcnJheS4gSWYgYSBtYXRjaGluZyB0eXBlIGlzIGZvdW5kXHJcbiAgICAgKiAge0BzZWUgb25QcmVDcmVhdGV9IGlzIGNhbGxlZCB0byBpbml0aWFsaXplIHR5cGUtc3BlY2lmaWMgZGVmYXVsdCBkYXRhLiBNdXN0IGJlIGluaGVyaXRlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgVFlQRSgpOiBBY3RvclR5cGUge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQUNUT1JfVFlQRSBtdXN0IGJlIGltcGxlbWVudGVkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlN0YXRpYyBNZXRob2RzXCI+XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0eXBlLXNwZWNpZmljIGRlZmF1bHQgZGF0YSBiZWZvcmUgdGhlIGFjdG9yIGlzIHNlbnQgdG8gdGhlIHNlcnZlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXREZWZhdWx0VmFsdWVzKCk6IElTUjVCYXNlQWN0b3JEYXRhIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFNSNUJhc2VBY3RvciBnZXREZWZhdWx0VmFsdWVzYCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogJ0hlbGxvIScsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJQcm9wZXJ0aWVzXCI+XHJcblxyXG4gICAgcHVibGljIGRhdGE6IElTUjVCYXNlQWN0b3JEYXRhQ29udGFpbmVyO1xyXG4gICAgcHVibGljIHByb3h5OiBTUjVBY3RvclByb3h5O1xyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkNvbnN0cnVjdG9yICYgSW5pdGlhbGl6YXRpb25cIj5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm94eTogU1I1QWN0b3JQcm94eSwgZGF0YTogQWN0b3JEYXRhLCBvcHRpb25zPzogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoZGF0YSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkdldHRlcnMgJiBTZXR0ZXJzXCI+XHJcblxyXG4gICAgLy8gPC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiSW5zdGFuY2UgTWV0aG9kc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbn1cclxuIiwiaW1wb3J0IFNSNUJhc2VBY3RvciwgeyBJU1I1QmFzZUFjdG9yRGF0YSwgSVNSNUJhc2VBY3RvckRhdGFDb250YWluZXIgfSBmcm9tICcuL1NSNUJhc2VBY3Rvcic7XHJcbmltcG9ydCB7IEFjdG9yVHlwZSB9IGZyb20gJy4vdHlwZXMvQWN0b3JUeXBlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNSNUdydW50RGF0YUNvbnRhaW5lciBleHRlbmRzIElTUjVCYXNlQWN0b3JEYXRhQ29udGFpbmVyIHtcclxuICAgIGRhdGE6IElTUjVHcnVudERhdGE7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJU1I1R3J1bnREYXRhIGV4dGVuZHMgSVNSNUJhc2VBY3RvckRhdGEge31cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNSNUdydW50IGV4dGVuZHMgU1I1QmFzZUFjdG9yIHtcclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIFByb3BlcnRpZXNcIj5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBUWVBFKCkge1xyXG4gICAgICAgIHJldHVybiBBY3RvclR5cGUuR3J1bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIE1ldGhvZHNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJQcm9wZXJ0aWVzXCI+XHJcblxyXG4gICAgZGF0YTogSVNSNUdydW50RGF0YUNvbnRhaW5lcjtcclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJDb25zdHJ1Y3RvciAmIEluaXRpYWxpemF0aW9uXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiR2V0dGVycyAmIFNldHRlcnNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJJbnN0YW5jZSBNZXRob2RzXCI+PC9lZGl0b3ItZm9sZD5cclxuXHJcbiAgICBwcmVwYXJlRGF0YSgpIHtcclxuICAgICAgICBzdXBlci5wcmVwYXJlRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCkge1xyXG4gICAgICAgIHN1cGVyLnByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNSNUJhc2VBY3RvciwgeyBJU1I1QmFzZUFjdG9yRGF0YSwgSVNSNUJhc2VBY3RvckRhdGFDb250YWluZXIgfSBmcm9tICcuL1NSNUJhc2VBY3Rvcic7XHJcbmltcG9ydCBTUjVBY3RvclByb3h5IGZyb20gJy4vU1I1QWN0b3JQcm94eSc7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWUsIFBoeXNpY2FsQXR0cmlidXRlTmFtZSwgUnVubmVyQXR0cmlidXRlTmFtZSwgUnVubmVyQXR0cmlidXRlcyB9IGZyb20gJy4uL2NvbW1vbi9BdHRyaWJ1dGUnO1xyXG5pbXBvcnQgeyBBY3RvclR5cGUgfSBmcm9tICcuL3R5cGVzL0FjdG9yVHlwZSc7XHJcbmltcG9ydCB7IElQcmVDcmVhdGVBY3RvckRhdGEsIElQcmVDcmVhdGVBY3Rvck9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24vSG9va3MnO1xyXG5cclxuLy8gVE9ETzogQXNzdW1lcyBGb3VuZHJ5IHdpbGwgYmUgZW5mb3JjaW5nIHR5cGVzIC0gYXMgd2UgY2FuIHNlZSBoZXJlXHJcbi8vICBpdCdzIHRlY2huaWNhbGx5IHBvc3NpYmxlIHRvIGdldCB1bmV4cGVjdGVkIHJlc3VsdHMuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNSNVJ1bm5lckRhdGFDb250YWluZXIgZXh0ZW5kcyBJU1I1QmFzZUFjdG9yRGF0YUNvbnRhaW5lciB7XHJcbiAgICBkYXRhOiBJU1I1UnVubmVyRGF0YTtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElTUjVSdW5uZXJEYXRhIGV4dGVuZHMgSVNSNUJhc2VBY3RvckRhdGEge1xyXG4gICAgYXR0cmlidXRlczogUnVubmVyQXR0cmlidXRlcztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1I1UnVubmVyIGV4dGVuZHMgU1I1QmFzZUFjdG9yIHtcclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIFByb3BlcnRpZXNcIj5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBUWVBFKCkge1xyXG4gICAgICAgIHJldHVybiBBY3RvclR5cGUuUnVubmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlN0YXRpYyBNZXRob2RzXCI+XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXREZWZhdWx0VmFsdWVzKCk6IElTUjVSdW5uZXJEYXRhIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFNSNVJ1bm5lciBnZXREZWZhdWx0VmFsdWVzYClcclxuICAgICAgICBsZXQgYXR0cmlidXRlczogUnVubmVyQXR0cmlidXRlcyA9IHtcclxuICAgICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogQXR0cmlidXRlTmFtZS5Cb2R5LFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFnaWxpdHk6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IEF0dHJpYnV0ZU5hbWUuQWdpbGl0eSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFyaXNtYToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogQXR0cmlidXRlTmFtZS5DaGFyaXNtYSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZXB0aDoge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogQXR0cmlidXRlTmFtZS5EZXB0aCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlZGdlOiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBBdHRyaWJ1dGVOYW1lLkVkZ2UsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXNzZW5jZToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogQXR0cmlidXRlTmFtZS5Fc3NlbmNlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludHVpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogQXR0cmlidXRlTmFtZS5JbnR1aXRpb24sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9naWM6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IEF0dHJpYnV0ZU5hbWUuTG9naWMsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWFnaWM6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IEF0dHJpYnV0ZU5hbWUuTWFnaWMsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVhY3Rpb246IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IEF0dHJpYnV0ZU5hbWUuUmVhY3Rpb24sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVzb25hbmNlOiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBBdHRyaWJ1dGVOYW1lLlJlc29uYW5jZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdHJlbmd0aDoge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogQXR0cmlidXRlTmFtZS5TdHJlbmd0aCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3aWxscG93ZXI6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IEF0dHJpYnV0ZU5hbWUuV2lsbHBvd2VyLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4uc3VwZXIuZ2V0RGVmYXVsdFZhbHVlcygpLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiUHJvcGVydGllc1wiPlxyXG5cclxuICAgIGRhdGE6IElTUjVSdW5uZXJEYXRhQ29udGFpbmVyO1xyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkNvbnN0cnVjdG9yICYgSW5pdGlhbGl6YXRpb25cIj5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm94eTogU1I1QWN0b3JQcm94eSwgZGF0YTogQWN0b3JEYXRhLCBvcHRpb25zOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm94eSwgZGF0YSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUud2Fybih0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJHZXR0ZXJzICYgU2V0dGVyc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkluc3RhbmNlIE1ldGhvZHNcIj48L2VkaXRvci1mb2xkPlxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNSNUJhc2VBY3RvclNoZWV0IGV4dGVuZHMgQWN0b3JTaGVldCB7XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlN0YXRpYyBQcm9wZXJ0aWVzXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIE1ldGhvZHNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJQcm9wZXJ0aWVzXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiQ29uc3RydWN0b3IgJiBJbml0aWFsaXphdGlvblwiPlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkdldHRlcnMgJiBTZXR0ZXJzXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiSW5zdGFuY2UgTWV0aG9kc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbn1cclxuIiwiZXhwb3J0IGVudW0gQWN0b3JUeXBlIHtcclxuICAgIFJ1bm5lciA9ICdSdW5uZXInLFxyXG4gICAgR3J1bnQgPSAnR3J1bnQnLFxyXG4gICAgLy8gQ29udGFjdCA9ICdDb250YWN0JyxcclxuICAgIC8vIFNwaXJpdCA9ICdTcGlyaXQnLFxyXG4gICAgLy8gU3ByaXRlID0gJ1Nwcml0ZScsXHJcbiAgICAvLyBWZWhpY2xlID0gJ1ZlaGljbGUnLFxyXG4gICAgLy8gQ3JpdHRlciA9ICdDcml0dGVyJyxcclxuICAgIC8vIEhvc3QgPSAnSG9zdCcsXHJcbiAgICAvLyBJQyA9ICdJQycsXHJcbn1cclxuIiwiZXhwb3J0IGVudW0gUGh5c2ljYWxBdHRyaWJ1dGVOYW1lIHtcclxuICAgIEJvZHkgPSAnYm9keScsXHJcbiAgICBBZ2lsaXR5ID0gJ2FnaWxpdHknLFxyXG4gICAgUmVhY3Rpb24gPSAncmVhY3Rpb24nLFxyXG4gICAgU3RyZW5ndGggPSAnc3RyZW5ndGgnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBNZW50YWxBdHRyaWJ1dGVOYW1lIHtcclxuICAgIExvZ2ljID0gJ2xvZ2ljJyxcclxuICAgIEludHVpdGlvbiA9ICdpbnR1aXRpb24nLFxyXG4gICAgQ2hhcmlzbWEgPSAnY2hhcmlzbWEnLFxyXG4gICAgV2lsbHBvd2VyID0gJ3dpbGxwb3dlcicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFNwZWNpYWxBdHRyaWJ1dGVOYW1lIHtcclxuICAgIEVkZ2UgPSAnZWRnZScsXHJcbiAgICBFc3NlbmNlID0gJ2Vzc2VuY2UnLFxyXG4gICAgTWFnaWMgPSAnbWFnaWMnLFxyXG4gICAgUmVzb25hbmNlID0gJ3Jlc29uYW5jZScsXHJcbiAgICBEZXB0aCA9ICdkZXB0aCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIE1hdHJpeEF0dHJpYnV0ZU5hbWUge1xyXG4gICAgQXR0YWNrID0gJ2F0dGFjaycsXHJcbiAgICBTbGVhemUgPSAnc2xlYXplJyxcclxuICAgIERhdGFQcm9jZXNzaW5nID0gJ2RhdGFfcHJvY2Vzc2luZycsXHJcbiAgICBGaXJld2FsbCA9ICdmaXJld2FsbCcsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBdHRyaWJ1dGVOYW1lID0geyAuLi5QaHlzaWNhbEF0dHJpYnV0ZU5hbWUsIC4uLk1lbnRhbEF0dHJpYnV0ZU5hbWUsIC4uLlNwZWNpYWxBdHRyaWJ1dGVOYW1lLCAuLi5NYXRyaXhBdHRyaWJ1dGVOYW1lIH07XHJcbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZU5hbWUgPSBQaHlzaWNhbEF0dHJpYnV0ZU5hbWUgfCBNZW50YWxBdHRyaWJ1dGVOYW1lIHwgU3BlY2lhbEF0dHJpYnV0ZU5hbWUgfCBNYXRyaXhBdHRyaWJ1dGVOYW1lO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJ1bm5lckF0dHJpYnV0ZU5hbWUgPSB7IC4uLlBoeXNpY2FsQXR0cmlidXRlTmFtZSwgLi4uTWVudGFsQXR0cmlidXRlTmFtZSwgLi4uU3BlY2lhbEF0dHJpYnV0ZU5hbWUgfTtcclxuZXhwb3J0IHR5cGUgUnVubmVyQXR0cmlidXRlTmFtZSA9IFBoeXNpY2FsQXR0cmlidXRlTmFtZSB8IE1lbnRhbEF0dHJpYnV0ZU5hbWUgfCBTcGVjaWFsQXR0cmlidXRlTmFtZTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXR0cmlidXRlPFROYW1lIGV4dGVuZHMgQXR0cmlidXRlTmFtZT4ge1xyXG4gICAgbmFtZTogVE5hbWU7IC8vIFRPRE86IExvY2FsZSBrZXlzIG5lZWQgYXJyYW5nZW1lbnQgZm9yIFNSNS5BVFRSSUJVVEVTLm5hbWVcclxuICAgIHZhbHVlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZU1hcDxUVmFsdWVzIGV4dGVuZHMgQXR0cmlidXRlTmFtZT4gPSB7XHJcbiAgICBbVEtleSBpbiBUVmFsdWVzXTogQXR0cmlidXRlPFRLZXk+O1xyXG59O1xyXG5cclxuLy8gSGVscGVyIG1hcHMgLSBDYW4gdXNlIEF0dHJpYnV0ZU1hcCBmb3IgY3VzdG9tIG1hcHBpbmdzXHJcbmV4cG9ydCB0eXBlIFBoeXNpY2FsQXR0cmlidXRlcyA9IEF0dHJpYnV0ZU1hcDxQaHlzaWNhbEF0dHJpYnV0ZU5hbWU+O1xyXG5leHBvcnQgdHlwZSBNZW50YWxBdHRyaWJ1dGUgPSBBdHRyaWJ1dGVNYXA8TWVudGFsQXR0cmlidXRlTmFtZT47XHJcbmV4cG9ydCB0eXBlIFNwZWNpYWxBdHRyaWJ1dGVzID0gQXR0cmlidXRlTWFwPFNwZWNpYWxBdHRyaWJ1dGVOYW1lPjtcclxuZXhwb3J0IHR5cGUgUnVubmVyQXR0cmlidXRlcyA9IEF0dHJpYnV0ZU1hcDxSdW5uZXJBdHRyaWJ1dGVOYW1lPjtcclxuZXhwb3J0IHR5cGUgTWF0cml4QXR0cmlidXRlcyA9IEF0dHJpYnV0ZU1hcDxNYXRyaXhBdHRyaWJ1dGVOYW1lPjtcclxuXHJcbi8vIGV4cG9ydCB0eXBlIEF0dHJpYnV0ZUZpZWxkID0gQmFzZVZhbHVlUGFpcjxudW1iZXI+ICZcclxuLy8gICAgIENhbkhpZGVGaWxlZCAmXHJcbi8vICAgICBNb2RpZmlhYmxlVmFsdWUgJlxyXG4vLyAgICAgTGFiZWxGaWVsZCAmIHtcclxuLy8gICAgIGxpbWl0Pzogc3RyaW5nO1xyXG4vLyB9O1xyXG4iLCJpbXBvcnQgU1I1QmFzZUl0ZW0gZnJvbSAnLi9TUjVCYXNlSXRlbSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTUjVBcm1vciBleHRlbmRzIFNSNUJhc2VJdGVtIHtcclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIFByb3BlcnRpZXNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgTWV0aG9kc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlByb3BlcnRpZXNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJDb25zdHJ1Y3RvciAmIEluaXRpYWxpemF0aW9uXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiR2V0dGVycyAmIFNldHRlcnNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJJbnN0YW5jZSBNZXRob2RzXCI+PC9lZGl0b3ItZm9sZD5cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIElTUjVCYXNlSXRlbURhdGFDb250YWluZXIgZXh0ZW5kcyBCYXNlRW50aXR5RGF0YSB7fVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJU1I1QmFzZUl0ZW1EYXRhIHt9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTUjVCYXNlSXRlbSBleHRlbmRzIEl0ZW0ge1xyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgUHJvcGVydGllc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlN0YXRpYyBNZXRob2RzXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiUHJvcGVydGllc1wiPlxyXG5cclxuICAgIGRhdGE6IElTUjVCYXNlSXRlbURhdGFDb250YWluZXI7XHJcblxyXG4gICAgLy8gPC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiQ29uc3RydWN0b3IgJiBJbml0aWFsaXphdGlvblwiPlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEJhc2VFbnRpdHlEYXRhLCBvcHRpb25zPzogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoZGF0YSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUud2FybihgQ3JlYXRlZCBhIG5ldyAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJHZXR0ZXJzICYgU2V0dGVyc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkluc3RhbmNlIE1ldGhvZHNcIj48L2VkaXRvci1mb2xkPlxyXG59XHJcbiIsImltcG9ydCBTUjVCYXNlSXRlbSBmcm9tICcuL1NSNUJhc2VJdGVtJztcclxuaW1wb3J0IHsgSXRlbVR5cGUgfSBmcm9tICcuL3R5cGVzL0l0ZW1UeXBlJztcclxuaW1wb3J0IFNSNVdlYXBvbiBmcm9tICcuL1NSNVdlYXBvbic7XHJcbmltcG9ydCBTUjVBcm1vciBmcm9tICcuL1NSNUFybW9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNSNUl0ZW1Qcm94eSBleHRlbmRzIEl0ZW0ge1xyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgUHJvcGVydGllc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlN0YXRpYyBNZXRob2RzXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiUHJvcGVydGllc1wiPlxyXG5cclxuICAgIHByaXZhdGUgX2ltcGxlbWVudGF0aW9uOiBTUjVCYXNlSXRlbTtcclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJDb25zdHJ1Y3RvciAmIEluaXRpYWxpemF0aW9uXCI+XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBCYXNlRW50aXR5RGF0YSwgb3B0aW9ucz86IGFueSkge1xyXG4gICAgICAgIHN1cGVyKGRhdGEsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSBhcyBJdGVtVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEl0ZW1UeXBlLldlYXBvbjpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltcGxlbWVudGF0aW9uID0gbmV3IFNSNVdlYXBvbihkYXRhLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEl0ZW1UeXBlLkFybW9yOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5faW1wbGVtZW50YXRpb24gPSBuZXcgU1I1QXJtb3IoZGF0YSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJdGVtVHlwZS5EZXZpY2U6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJdGVtVHlwZS5Qcm9ncmFtOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSXRlbVR5cGUuQW1tdW5pdGlvbjpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkdldHRlcnMgJiBTZXR0ZXJzXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiSW5zdGFuY2UgTWV0aG9kc1wiPlxyXG5cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHVwZGF0ZShkYXRhOiBhbnksIG9wdGlvbnM6IGFueSk6IFByb21pc2U8SXRlbT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbXBsZW1lbnRhdGlvbi51cGRhdGUoZGF0YSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG59XHJcbiIsImltcG9ydCBTUjVCYXNlSXRlbSBmcm9tICcuL1NSNUJhc2VJdGVtJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNSNVdlYXBvbiBleHRlbmRzIFNSNUJhc2VJdGVtIHtcclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIFByb3BlcnRpZXNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgTWV0aG9kc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlByb3BlcnRpZXNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJDb25zdHJ1Y3RvciAmIEluaXRpYWxpemF0aW9uXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiR2V0dGVycyAmIFNldHRlcnNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJJbnN0YW5jZSBNZXRob2RzXCI+PC9lZGl0b3ItZm9sZD5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTUjVCYXNlSXRlbVNoZWV0IGV4dGVuZHMgSXRlbVNoZWV0IHtcclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiU3RhdGljIFByb3BlcnRpZXNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgTWV0aG9kc1wiPjwvZWRpdG9yLWZvbGQ+XHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIlByb3BlcnRpZXNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJDb25zdHJ1Y3RvciAmIEluaXRpYWxpemF0aW9uXCI+PC9lZGl0b3ItZm9sZD5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiR2V0dGVycyAmIFNldHRlcnNcIj48L2VkaXRvci1mb2xkPlxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJJbnN0YW5jZSBNZXRob2RzXCI+PC9lZGl0b3ItZm9sZD5cclxufVxyXG4iLCJleHBvcnQgZW51bSBJdGVtVHlwZSB7XHJcbiAgICBXZWFwb24gPSAnV2VhcG9uJyxcclxuICAgIEFybW9yID0gJ0FybW9yJyxcclxuICAgIERldmljZSA9ICdEZXZpY2UnLFxyXG4gICAgUHJvZ3JhbSA9ICdQcm9ncmFtJyxcclxuICAgIEFtbXVuaXRpb24gPSAnQW1tdW5pdGlvbicsXHJcbn1cclxuIl19"}